(this.webpackJsonpecom=this.webpackJsonpecom||[]).push([[0],{53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},60:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},73:function(e,t,c){},75:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c(3),a=c.n(n),i=c(43),r=c.n(i),l=(c(53),c(6)),j=(c(54),c(55),c(10)),d=Object(n.createContext)(),o=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(s.jsx)(d.Provider,{value:Object(n.useReducer)(t,c),children:a})},b=function(){return Object(n.useContext)(d)},u=["btn--primary","btn--outline","btn--test"],O=["btn--medium","btn--large"],m=function(e){var t=e.children,c=e.type,n=e.onClick,a=e.buttonStyle,i=e.buttonSize,r=u.includes(a)?a:u[0],d=O.includes(i)?i:O[0],o=b(),m=Object(l.a)(o,2),h=m[0].user;m[1];return Object(s.jsx)(j.b,{to:!h&&"/sign-up",className:"btn-mobile",children:Object(s.jsx)("button",{className:"btn ".concat(r," ").concat(d),onClick:n,type:c,children:t})})},h=(c(60),c.p+"static/media/logo.1bcafa71.png"),p=c(32),x=(p.a.initializeApp({apiKey:"AIzaSyD37M8u8NtzAjmgmbqw8Qiy_fwk2kLlpU0",authDomain:"ecommwebsite-5d309.firebaseapp.com",databaseURL:"https://ecommwebsite-5d309.firebaseio.com",projectId:"ecommwebsite-5d309",storageBucket:"ecommwebsite-5d309.appspot.com",messagingSenderId:"641994641459",appId:"1:641994641459:web:beea7f5e02b8ac5a929346",measurementId:"G-8NC0YKH4G3"}).firestore(),p.a.auth());var f=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(l.a)(i,2),d=r[0],o=r[1],u=function(){return a(!1)},O=function(){window.innerWidth<=960?o(!1):o(!0)};Object(n.useEffect)((function(){O()}),[]),window.addEventListener("resize",O);var p=b(),f=Object(l.a)(p,2),v=f[0],g=v.basket,N=v.user;return f[1],Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("nav",{className:"navbar",children:Object(s.jsxs)("div",{className:"navbar-container",children:[Object(s.jsx)(j.b,{to:"/",className:"navbar-logo",onClick:u,children:"EMART"}),Object(s.jsx)("div",{className:"logo-img",children:Object(s.jsx)("img",{src:h,alt:"logo",className:"logo"})}),Object(s.jsx)("div",{className:"menu-icon",onClick:function(){return a(!c)},children:Object(s.jsx)("i",{className:c?"fas fa-times":"fas fa-bars"})}),Object(s.jsxs)("ul",{className:c?"nav-menu active":"nav-menu",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{to:"/",className:"nav-links",onClick:u,children:"Home"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{to:"/Orders",className:"nav-links",onClick:u,children:"YourOrders"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(j.b,{to:"/checkout",className:"nav-links",onClick:u,children:[Object(s.jsx)("i",{class:"fas fa-cart-arrow-down"}),Object(s.jsx)("span",{className:"cart_item_number",style:{marginLeft:6},children:null===g||void 0===g?void 0:g.length})]})}),Object(s.jsx)("li",{children:Object(s.jsx)(j.b,{to:"/",className:"nav-links-mobile",onClick:u,children:"Sign Up"})})]}),d&&Object(s.jsx)(m,{buttonStyle:"btn--outline",onClick:function(){N&&x.signOut()},children:N?"SIGN OUT":"SIGN IN"})]})})})};c(65),c(66);var v=function(e){var t=b(),c=Object(l.a)(t,2),n=c[0].basket,a=c[1];return console.log("this is the basket>>>>",n),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("li",{className:"cards__item",children:Object(s.jsxs)("div",{className:"cards__item__link",to:e.path,children:[Object(s.jsx)("figure",{className:"cards__item__pic-wrap","data-category":e.label,children:Object(s.jsx)("img",{className:"cards__item__img",alt:"hello",src:e.src})}),Object(s.jsxs)("div",{className:"cards__item__info",children:[Object(s.jsx)("h5",{className:"cards__item__text",children:e.name}),Object(s.jsx)("p",{className:"card_item_discription",children:e.discription}),Object(s.jsxs)("p",{className:"product_price",children:[Object(s.jsx)("small",{children:"Rs."}),Object(s.jsx)("strong",{children:e.price})]})]}),Object(s.jsx)("button",{className:"button",onClick:function(){a({type:"ADD_TO_BASKET",item:{id:e.p_id,image:e.src,title:e.name,price:e.price}})},children:"ADD TO CART"})]})})})},g=c.p+"static/media/elec.add3d5ca.jpg",N=c.p+"static/media/tv.8ddbdf00.jpg",_=c.p+"static/media/shoes.93f55e0d.jpg",S=c.p+"static/media/tracksuit.01c5a622.jpg",k=c.p+"static/media/laptop.ecb68680.jpg",y=c.p+"static/media/mobile.9eb081cf.jpg";var E=function(){return Object(s.jsxs)("div",{className:"cards",children:[Object(s.jsx)("h1",{children:"What You Want To Buy!!!!!"}),Object(s.jsx)("div",{className:"cards__container",children:Object(s.jsxs)("div",{className:"cards__wrapper",children:[Object(s.jsxs)("ul",{className:"cards__items",children:[Object(s.jsx)(v,{src:g,p_id:"1234555",name:"LG Washing Machine 9KG",label:"SHOP NOW",path:"/Orders",discription:"Fully-automatic front load washing machine: best wash quality, energy and water efficient",price:"40000.00"}),Object(s.jsx)(v,{src:_,p_id:"1234555",name:"Nike Men  ultras flex | sneakers ",label:"SHOP NOW",path:"/Orders",discription:"Closure: Lace-Up\r Shoe Width: Medium\r Material Type: Mesh\r Lifestyle: Sports\r Closure Type: Lace-Up",price:"6000.00"}),Object(s.jsx)(v,{src:N,p_id:"1234555",name:"Mi TV 4A PRO 108 cm (43 Inches)",label:"SHOP NOW",path:"/Orders",discription:"Resolution : Full HD (1920x1080) | Refresh Rate: 60 hertz Smart TV Features :Built-In Wi-Fi | PatchWall | Netflix | Prime Video |",price:"22499.00"})]}),Object(s.jsxs)("ul",{className:"cards__items",children:[Object(s.jsx)(v,{src:S,p_id:"1234555",name:"PUMA | MEN TRACK SUIT",label:"SHOP NOW",path:"/Orders",discription:"\r Material Information\r Pocket Bag: 100% cotton\r Rib: 97% cotton, 3% elastane\r Shell: 34% polyester, 66% cotton",price:"4000.00"}),Object(s.jsx)(v,{src:k,p_id:"1234555",name:"HP 15s gr0008au 15.6-inch Laptop ",label:"SHOP NOW",path:"/Orders",discription:"Ryzen 3 3250U/4GB/1TB HDD + 256GB SSD/Windows 10 Home/AMD Radeon Graphics, Natural Silver",price:"60000.00"}),Object(s.jsx)(v,{src:y,p_id:"1234555",name:"Samsung Galaxy A50 (Blue, 64 GB)  (4 GB RAM)",label:"SHOP NOW",path:"/Orders",discription:"4 GB RAM | 64 GB ROM | Expandable Upto 512 GB\r 25MP + 5MP + 8MP | 25MP Front Camera\r Exynos 9610 Processor\r Super AMOLED Display",price:"20000.00"})]})]})})]})},C=c(45),w=(c(67),c(68),c.p+"static/media/slide_1.d26f3c0b.jpg"),T=c.p+"static/media/slide_2.87c71b21.jpg",A=c.p+"static/media/slide_3.290111e7.jpg",P=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(C.Slide,{easing:"ease",style:{pauseOnHover:!1,duration:200},children:[Object(s.jsx)("div",{className:"each-slide",children:Object(s.jsx)("div",{id:"slide",children:Object(s.jsx)("img",{src:w,alt:""})})}),Object(s.jsx)("div",{className:"each-slide",children:Object(s.jsx)("div",{id:"slide",children:Object(s.jsx)("img",{src:T,alt:""})})}),Object(s.jsx)("div",{className:"each-slide",children:Object(s.jsx)("div",{id:"slide",children:Object(s.jsx)("img",{src:A,alt:""})})})]})})};function R(){return Object(s.jsxs)("div",{className:"home",children:[Object(s.jsx)(P,{className:"imageslider"}),Object(s.jsx)(E,{})]})}var M=c(8),B=(c(69),c.p+"static/media/logo1.f0acf98b.png");function I(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(M.f)();return Object(s.jsxs)("div",{className:"loginPage",children:[Object(s.jsx)(j.b,{to:"/",children:Object(s.jsx)("img",{src:B,alt:"logo_here",className:"title"})}),Object(s.jsxs)("div",{className:"login_container",children:[Object(s.jsx)("h1",{children:"Sign In"}),Object(s.jsxs)("form",{action:"",children:[Object(s.jsx)("h5",{children:"Email"}),Object(s.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(s.jsx)("h5",{children:"Password"}),Object(s.jsx)("input",{type:"password",value:d,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),x.signInWithEmailAndPassword(c,d).then((function(e){b.push("/")})).catch((function(e){return alert(e.message)}))},children:Object(s.jsx)("strong",{children:"SIGN IN"})}),Object(s.jsx)("p",{className:"text",children:Object(s.jsx)("strong",{children:"Don't have a Account!!!"})}),Object(s.jsx)("p",{children:'(To create new account enter email and password in the above form and click on "Create New Account")'}),Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),x.createUserWithEmailAndPassword(c,d).then((function(e){console.log(e)})).catch((function(e){return alert(e.message)})),x&&b.push("/")},children:Object(s.jsx)("strong",{children:"Create New Account"})})]})]})]})}c(70),c(71);var D=c(25),U=c.n(D),F=c(33),G=c(19),H=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},W=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(G.a)(Object(G.a)({},e),{},{basket:[].concat(Object(F.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),s=Object(F.a)(e.basket);return c>=0?s.splice(c,1):console.warn("Cant remove product (id:".concat(t.id,") as it's not in basket!")),Object(G.a)(Object(G.a)({},e),{},{basket:s});case"SET_USER":return Object(G.a)(Object(G.a)({},e),{},{user:t.user});default:return e}};function L(){var e=Object(M.f)(),t=b(),c=Object(l.a)(t,2),n=c[0].basket;c[1];return Object(s.jsxs)("div",{className:"subtotal",children:[Object(s.jsx)(U.a,{renderText:function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{children:["SubTotal (",n.length," items) : ",Object(s.jsx)("strong",{children:e})]})})},decimalScale:2,value:H(n),displayType:"text",thousandSeperator:!0,prefix:"Rs."}),Object(s.jsx)("button",{className:"proceed_button",onClick:function(t){return e.push("/payment")},children:"PROCEED TO CHECKOUT"})]})}c(73);function K(e){var t=e.id,c=e.image,n=e.title,a=e.price,i=b(),r=Object(l.a)(i,2),j=(r[0].basket,r[1]);return Object(s.jsxs)("div",{className:"checkoutProduct",children:[Object(s.jsx)("img",{src:c,alt:"aa",className:"checkoutProduct_image"}),Object(s.jsxs)("div",{className:"checkoutProduct_info",children:[Object(s.jsx)("p",{className:"checkoutProduct_tilte",children:n}),Object(s.jsxs)("p",{className:"checkoutProduct_price",children:[Object(s.jsx)("small",{children:"Rs."}),Object(s.jsx)("strong",{children:a})]}),Object(s.jsx)("button",{onClick:function(){j({type:"REMOVE_FROM_BASKET",id:t})},className:"button",children:"Remove From Basket"})]})]})}function z(){var e=b(),t=Object(l.a)(e,2),c=t[0],n=c.basket,a=c.user;t[1];return Object(s.jsxs)("div",{className:"checkout",children:[Object(s.jsxs)("div",{className:"checkout_left",children:[Object(s.jsxs)("h3",{children:["HELLO, ",null===a||void 0===a?void 0:a.email]}),Object(s.jsx)("h2",{className:"checkout_title",children:"YOUR SHOPPING BASKET"}),n.map((function(e){return Object(s.jsx)(K,{id:e.id,title:e.title,price:e.price,image:e.image})}))]}),Object(s.jsx)("div",{className:"checkout_right",children:Object(s.jsx)(L,{})})]})}var V=c(22),Y=c.n(V),J=c(31),X=c(18),q=(c(75),c(46)),Q=c.n(q).a.create({baseURL:"http://localhost:5001/ecommwebsite-5d309/us-central1/api"});var $=function(){var e=b(),t=Object(l.a)(e,2),c=t[0],a=c.user,i=c.basket,r=(t[1],Object(X.useStripe)()),d=Object(X.useElements)(),o=Object(M.f)(),u=Object(n.useState)(null),O=Object(l.a)(u,2),m=O[0],h=O[1],p=Object(n.useState)(!0),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(n.useState)(""),N=Object(l.a)(g,2),_=N[0],S=N[1],k=Object(n.useState)(!1),y=Object(l.a)(k,2),E=y[0],C=y[1],w=Object(n.useState)(!0),T=Object(l.a)(w,2),A=T[0],P=T[1];Object(n.useEffect)((function(){(function(){var e=Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({method:"post",url:"/payments/create?total=".concat(H(i))});case 2:t=e.sent,P(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),console.log("the secret is >>>",A);var R=function(){var e=Object(J.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S(!0),e.next=4,r.confirmCardPayment(A,{payment_method:{card:d.getElements(X.CardElement)}}).then((function(e){e.paymentIntent;C(!0),h(null),S(!1),o.replace("/")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"payment",children:Object(s.jsxs)("div",{className:"payment_container",children:[Object(s.jsxs)("h1",{children:["Checkout(",Object(s.jsxs)(j.b,{to:"/checkout",className:"link",children:[i.length," Items"]}),")"]}),Object(s.jsxs)("div",{className:"payment_section",children:[Object(s.jsx)("div",{className:"payment_title",children:Object(s.jsx)("h3",{children:"DeliveryAddress"})}),Object(s.jsxs)("div",{className:"payment_address",children:[Object(s.jsx)("p",{children:null===a||void 0===a?void 0:a.email}),Object(s.jsx)("p",{children:"28,SouthSun Avenue,Bhopal"})]})]}),Object(s.jsxs)("div",{className:"payment_section",children:[Object(s.jsx)("div",{className:"payment_title",children:Object(s.jsx)("h3",{children:"Items In The Cart"})}),Object(s.jsx)("div",{className:"payment_items",children:i.map((function(e){return Object(s.jsx)(K,{id:e.id,title:e.title,price:e.price,image:e.image})}))})]}),Object(s.jsx)("div",{className:"payment_section",children:Object(s.jsxs)("div",{className:"payment_title",children:[Object(s.jsx)("h3",{children:"Payment Method"}),Object(s.jsx)("div",{className:"payment_details",children:Object(s.jsxs)("form",{action:R,className:"form",children:[Object(s.jsx)(X.CardElement,{onChange:function(e){v(e.empty),h(e.error?e.error.messgae:"")}}),Object(s.jsxs)("div",{className:"payment_cardContainer",children:[Object(s.jsx)(U.a,{renderText:function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("h3",{children:["Order Total: ",e]})})},decimalScale:2,value:H(i),displayType:"text",thousandSeperator:!0,prefix:"$"}),Object(s.jsx)("button",{disabled:_||f||E,children:Object(s.jsx)("span",{children:_?Object(s.jsx)("p",{children:"Processing"}):"BUY NOW"})})]}),m&&Object(s.jsx)("div",{children:m})]})})]})})]})})},Z=c(47),ee=Object(Z.a)("pk_test_51HwmsJKFbsE0XfWStX1lwAFmhpjA3AtRQXqsJ8aB0v6iFVzAbEOSEo5U4rr1K4GXBf10HMan1J7GwM6DVWzVQ3EA00TzUVnVRu");var te=function(){var e=b(),t=Object(l.a)(e,2),c=(t[0].basket,t[1]);return Object(n.useEffect)((function(){x.onAuthStateChanged((function(e){console.log("THE USER IS >>>>",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(j.a,{children:Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(M.c,{children:[Object(s.jsxs)(M.a,{path:"/Orders",children:[Object(s.jsx)(f,{}),Object(s.jsx)("h1",{children:"YOUR ORDERS"})]}),Object(s.jsx)(M.a,{path:"/sign-up",children:Object(s.jsx)(I,{})}),Object(s.jsxs)(M.a,{path:"/checkout",children:[Object(s.jsx)(f,{}),Object(s.jsx)(z,{})]}),Object(s.jsxs)(M.a,{path:"/payment",children:[Object(s.jsx)(f,{}),Object(s.jsx)(X.Elements,{stripe:ee,children:Object(s.jsx)($,{})})]}),Object(s.jsxs)(M.a,{path:"/",children:[Object(s.jsx)(f,{}),Object(s.jsx)(R,{})]})]})})})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,93)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(o,{initialState:{basket:[]},reducer:W,children:Object(s.jsx)(te,{})})}),document.getElementById("root")),ce()}},[[92,1,2]]]);
//# sourceMappingURL=main.57d24dd9.chunk.js.map